<div align="center">

# –°–±–æ—Ä–Ω–∏–∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ –∫—É—Ä—Å—É ‚Äú–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (–û–°)‚Äù

</div>

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è —Å–±–æ—Ä–Ω–∏–∫ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö [–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç](https://edu.irnok.net/doku.php?id=sys:os "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (–û–°) 22–•–• –ò–ì–£") –ø–æ –∫—É—Ä—Å—É "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (–û–°)"

### Enjoy üòº‚úåÔ∏è

***

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ


1. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1 (gcc, –∞—Å—Å–µ–º–±–ª–µ—Ä, —Å–≤—è–∑—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, Makefile, git)](#lab1)
2. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ2 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Linux (—Ä–∞–∑–≤–µ—Ä—Ç–∫–∞, bootstraping)](#lab2)
3. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ3a. - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞ bash](#lab3)
4. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ4 - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π](#lab4)

***

## <a id="lab1">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1</a>

### <a id="lab1-1">–®–∞–≥ 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ gcc, —è–∑—ã–∫ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞. –°–≤—è–∑—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. Makefile, git.

–ò–∑ –∏–º–µ—é—â–∏—Ö—Å—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
>1. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ
>    * —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞, —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏, —Ñ—É–Ω–∫—Ü–∏–∏ –ê–∫–∫–µ—Ä–º–∞–Ω–∞, ‚Ä¶
>    * –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ —á–∏—Å–ª–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º,
>    * —Å—Ö–æ–¥—è—â–µ–≥–æ—Å—è —Ä—è–¥–∞ –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (sin, cos, exp, ‚Ä¶.);
>2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
>    * –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è,
>    * —Ä–µ—à–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è (–º–µ—Ç–æ–¥—ã –ù—å—é—Ç–æ–Ω–∞, –†—ã–±–∞–∫–æ–≤–∞, –¥–µ–ª–µ–Ω–∏—è –æ—Ç—Ä–µ–∑–∫–∞ –ø–æ–ø–æ–ª–∞–º, –∑–æ–ª–æ—Ç–æ–≥–æ —Å–µ—á–µ–Ω–∏—è, –ø—Ä–æ—Å—Ç—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π, ‚Ä¶),
>    * —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –ö–æ—à–∏;
>3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞  
>    * –ë—Ä–∞–∑–µ–Ω—Ö–µ–º–∞ (—Ä–∏—Å–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ–π, –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏, –æ–±—â–µ–≥–æ –≤–∏–¥–∞).

–ó–∞–º–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –º–Ω–µ —Ç—É—Ç —Å–∏–ª—å–Ω–æ –Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –∏ —è –ø—Ä–æ—Å—Ç–æ –≤—ã–±—Ä–∞–ª –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - *–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞*.  

***

–ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã [factorial.cpp](/lab1/factorial.cpp):
```cpp
#include <iostream>

class MathUtils {
public:
    static int factorial(int n) {
        return (n <= 1) ? 1 : n * factorial(n - 1);
    }
};

int main() {
    int num = 5;
    std::cout << "Factorial of " << num << " is " << MathUtils::factorial(num) << std::endl;
    return 0;
}
```

–°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–æ–º–∞–Ω–¥–æ–π ```g++ -S -O2 -masm=intel -o factorial_O2.s factorial.cpp```(–≤—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏), –∏ –∏–∑—É—á–∏–ª —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π [–∞—Å—Å–µ–º–±–ª–µ—Ä –∫–æ–¥](/lab1/factorial_O2.s):
```ASM
	.file	"factorial.cpp"
	.intel_syntax noprefix
	.text
#APP
	.globl _ZSt21ios_base_library_initv
#NO_APP
	.section	.text._ZNKSt5ctypeIcE8do_widenEc,"axG",@progbits,_ZNKSt5ctypeIcE8do_widenEc,comdat
	.align 2
	.p2align 4
	.weak	_ZNKSt5ctypeIcE8do_widenEc
	.type	_ZNKSt5ctypeIcE8do_widenEc, @function
_ZNKSt5ctypeIcE8do_widenEc:
.LFB1791:
	.cfi_startproc
	mov	eax, esi         ; –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª
	ret                  ; (—á–∞—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫–æ–≤ C++)
	.cfi_endproc
.LFE1791:
	.size	_ZNKSt5ctypeIcE8do_widenEc, .-_ZNKSt5ctypeIcE8do_widenEc
	.section	.rodata.str1.1,"aMS",@progbits,1
.LC0:
	.string	"Factorial of "  ; –°—Ç—Ä–æ–∫–æ–≤–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
.LC1:
	.string	" is "           ; –°—Ç—Ä–æ–∫–æ–≤–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
	.section	.text.unlikely,"ax",@progbits
.LCOLDB2:
	.section	.text.startup,"ax",@progbits
.LHOTB2:
	.p2align 4
	.globl	main
	.type	main, @function
main:
.LFB2039:
	.cfi_startproc
	push	rbp
	.cfi_def_cfa_offset 16
	.cfi_offset 6, -16
	lea	rsi, .LC0[rip]      ; –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏ "Factorial of "
	lea	rdi, _ZSt4cout[rip] ; –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–¥—Ä–µ—Å cout
	push	rbx
	.cfi_def_cfa_offset 24
	.cfi_offset 3, -24
	sub	rsp, 8
	.cfi_def_cfa_offset 32
	call	_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc@PLT ; –í—ã–≤–æ–¥ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏
	mov	esi, 5            ; –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–∏—Å–ª–æ 5 (–∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ num)
	mov	rdi, rax          ; –ü–µ—Ä–µ–¥–∞–µ—Ç –ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞
	call	_ZNSolsEi@PLT ; –í—ã–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ 5
	lea	rsi, .LC1[rip]    ; –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏ " is "
	mov	rdi, rax
	call	_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc@PLT ; –í—ã–≤–æ–¥ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
	mov	esi, 120          ; –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç 5! = 120 (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è!)
	mov	rdi, rax
	call	_ZNSolsEi@PLT ; –í—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
	mov	rbx, rax          ; –†–∞–±–æ—Ç–∞ —Å –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏
	mov	rax, QWORD PTR [rax]
	mov	rax, QWORD PTR -24[rax]
	mov	rbp, QWORD PTR 240[rbx+rax]
	test	rbp, rbp
	je	.L8             ; –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ (—Ö—É–¥—à–∏–π —Å–ª—É—á–∞–π)
	cmp	BYTE PTR 56[rbp], 0
	je	.L5             ; –£—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–ª–∞–≥–æ–≤
	movsx	esi, BYTE PTR 67[rbp]
.L6:
	mov	rdi, rbx
	call	_ZNSo3putEc@PLT   ; –í—ã–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞
	mov	rdi, rax
	call	_ZNSo5flushEv@PLT ; –°–±—Ä–æ—Å –±—É—Ñ–µ—Ä–∞
	add	rsp, 8
	.cfi_remember_state
	.cfi_def_cfa_offset 24
	xor	eax, eax              ; –í–æ–∑–≤—Ä–∞—Ç 0
	pop	rbx
	.cfi_def_cfa_offset 16
	pop	rbp
	.cfi_def_cfa_offset 8
	ret
.L5:  ; –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏
	.cfi_restore_state
	mov	rdi, rbp
	call	_ZNKSt5ctypeIcE13_M_widen_initEv@PLT
	mov	rax, QWORD PTR 0[rbp]
	mov	esi, 10
	lea	rdx, _ZNKSt5ctypeIcE8do_widenEc[rip]
	mov	rax, QWORD PTR 48[rax]
	cmp	rax, rdx
	je	.L6
	mov	esi, 10
	mov	rdi, rbp
	call	rax
	movsx	esi, al
	jmp	.L6
	.cfi_endproc
	.section	.text.unlikely
	.cfi_startproc
	.type	main.cold, @function
main.cold:
.LFSB2039:
.L8:  ; –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –ª–æ–∫–∞–ª—å)
	.cfi_def_cfa_offset 32
	.cfi_offset 3, -24
	.cfi_offset 6, -16
	call	_ZSt16__throw_bad_castv@PLT
	.cfi_endproc
.LFE2039:
	.section	.text.startup
	.size	main, .-main
	.section	.text.unlikely
	.size	main.cold, .-main.cold
.LCOLDE2:
	.section	.text.startup
.LHOTE2:
	.ident	"GCC: (GNU) 14.2.1 20250207"
	.section	.note.GNU-stack,"",@progbits
```
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏(-O2) –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ—Ç–∏—Ç—å –ø–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é –≤—ã–∑–æ–≤–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ```factorial()```. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã—á–∏—Å–ª–∏–ª 5! = 120 –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è –ø—Ä–æ–≥–æ–Ω–∫–∞) –∏ –ø–æ–¥—Å—Ç–∞–≤–∏–ª –≥–æ—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 120 –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–¥ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ```mov esi, 120```).

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–∏–ª –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–∏–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞.

***

–í—ã–ø–æ–ª–Ω—è—è —ç—Ç–æ—Ç –ø–æ–¥–ø—É–Ω–∫—Ç [–ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞](#lab1-1):
> * –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –º–æ–¥—É–ª—å–Ω—É—é, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å Makefile.

–Ø —Å–æ–∑–¥–∞–ª —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É [–ø—Ä–æ–µ–∫—Ç–∞](/lab1/project1):
```
project1/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ math_utils.hpp    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ math_utils.cpp    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp          # –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îî‚îÄ‚îÄ Makefile              # –§–∞–π–ª —Å–±–æ—Ä–∫–∏
```
#### include/math_utils.hpp:
```hpp
#ifndef MATH_UTILS_HPP
#define MATH_UTILS_HPP

class MathUtils {
public:
    static int factorial(int n); // –û–±—ä—è–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞
};

#endif
```
#### src/math_utils.cpp:
```cpp
#include <iostream>
#include "math_utils.hpp" // –ü–æ–¥–∫–ª—é—á–∞–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫–∞

int main() {
    int num = 5;
    std::cout << "Factorial of " << num << " is " 
              << MathUtils::factorial(num) << std::endl;
    return 0;
}
```
#### src/math_utils.cpp:
```cpp
#include "../include/math_utils.hpp"

int MathUtils::factorial(int n) {
    return (n <= 1) ? 1 : n * factorial(n - 1);
}
```
#### Makefile:
```Makefile
# –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ —Ñ–ª–∞–≥–∏
CXX := g++
CXXFLAGS := -Wall -Wextra -std=c++17 -Iinclude -O2
TARGET := factorial_app

# –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –æ–±—ä–µ–∫—Ç—ã
SRC_DIR := src
OBJ_DIR := obj
SRCS := $(wildcard $(SRC_DIR)/*.cpp)
OBJS := $(patsubst $(SRC_DIR)/%.cpp,$(OBJ_DIR)/%.o,$(SRCS))

# –ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏
all: $(TARGET)

$(TARGET): $(OBJS)
	$(CXX) $(CXXFLAGS) -o $@ $^

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.cpp | $(OBJ_DIR)
	$(CXX) $(CXXFLAGS) -c $< -o $@

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
$(OBJ_DIR):
	mkdir -p $(OBJ_DIR)

# –û—á–∏—Å—Ç–∫–∞
clean:
	rm -rf $(OBJ_DIR) $(TARGET)

.PHONY: all clean
```
* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ include/ –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
* –û–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É obj/
* –§–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:  
    * ```-std=c++17``` - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç C++
    * ```-Iinclude ``` - –ü—É—Ç—å –∫ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º —Ñ–∞–π–ª–∞–º
    * ```-O2 ``` - –£—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
    * wildcard –∏ patsubst –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç –≤—Å–µ .cpp —Ñ–∞–π–ª—ã
    * –ü—Ä–∞–≤–∏–ª–æ $(OBJ_DIR) —Å–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É –¥–ª—è –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–ù—É –∏ —Å–±–æ—Ä–∫–∞ –∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:  
* –°–±–æ—Ä–∫–∞ - ```make```
* –ó–∞–ø—É—Å–∫ - ```./factorial_app``` 
* –î–ª—è –æ—á–∏—Å—Ç–∫–∏ - ```make clean```

***

### <a id="lab1-2">–®–∞–≥2. –£—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É 

–í–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ —ç—Ç–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–∑ –ø–µ—Ä–≤–æ–≥–æ [—à–∞–≥–∞](#lab1-1):

> –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Linux/Windows.   
> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–µ–º—É —Ä–µ—Å—É—Ä—Å—É (—Ñ–∞–π–ª, –∫–∞–Ω–∞–ª, pipe, –æ—á–µ—Ä–µ–¥—å, mmap, smmem). 

–í—ã–ø–æ–ª–Ω—è—è –≤—Ç–æ—Ä–æ–π —à–∞–≥, —è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª [–ø—Ä–æ–µ–∫—Ç](/lab1/project2). –¢–µ–ø–µ—Ä—å –æ–Ω –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```
project2/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ math_utils.hpp    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ shared_utils.hpp  # –ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å shmem –∏ —Å–µ–º–∞—Ñ–æ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ math_utils.cpp    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ shared_utils.cpp  # –ù–æ–≤—ã–π –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç—å—é
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp          # –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞)
‚îî‚îÄ‚îÄ Makefile              # –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ—Å—Ç–∏
```

#### include/shared_utils.hpp:
```cpp
#ifndef SHARED_UTILS_HPP
#define SHARED_UTILS_HPP

#include <semaphore.h>

struct SharedData {
    int value;            // –†–∞–∑–¥–µ–ª—è–µ–º–∞—è —è—á–µ–π–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    sem_t write_sem;      // –°–µ–º–∞—Ñ–æ—Ä –∑–∞–ø–∏—Å–∏
    sem_t read_sem;       // –°–µ–º–∞—Ñ–æ—Ä —á—Ç–µ–Ω–∏—è
};

void setup_shared_memory(SharedData** shared, const char* name);
void cleanup_shared_memory(SharedData* shared, const char* name);

#endif
```
#### src/main.cpp:
```cpp
#include <iostream>
#include <sys/wait.h>
#include "math_utils.hpp"
#include "shared_utils.hpp"

int main() {
    const char* SHMEM_NAME = "/fact_shmem";
    SharedData* shared = nullptr;

    setup_shared_memory(&shared, SHMEM_NAME);

    pid_t pid = fork();
    if (pid == -1) {
        perror("fork failed");
        return 1;
    }

    if (pid > 0) {  // –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
        sem_wait(&shared->write_sem);  // –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Å–µ–º–∞—Ñ–æ—Ä –∑–∞–ø–∏—Å–∏
        shared->value = 5;             // –ü–∏—à–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        std::cout << "[Parent] Wrote value: " << shared->value << std::endl;
        sem_post(&shared->read_sem);  // –†–∞–∑—Ä–µ—à–∞–µ–º —á—Ç–µ–Ω–∏–µ

        wait(nullptr);                 // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞
        cleanup_shared_memory(shared, SHMEM_NAME);
    } 
    else {          // –î–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
        sem_wait(&shared->read_sem);   // –ñ–¥—ë–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —á—Ç–µ–Ω–∏–µ
        int n = shared->value;         // –ß–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        std::cout << "[Child] Factorial of " << n 
                  << " is " << MathUtils::factorial(n) << std::endl;
        sem_post(&shared->write_sem);  // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
        exit(0);
    }

    return 0;
}
```
#### Makefile:
```makefile
CXX = g++
CXXFLAGS = -std=c++17 -Wall -Wextra -pthread -Iinclude
TARGET = factorial_app
SRC_DIR = src
OBJ_DIR = obj

SRCS = $(wildcard $(SRC_DIR)/*.cpp)
OBJS = $(patsubst $(SRC_DIR)/%.cpp,$(OBJ_DIR)/%.o,$(SRCS))

all: $(TARGET)

$(TARGET): $(OBJS)
	$(CXX) $(CXXFLAGS) -o $@ $^ -lrt  # –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–∏–Ω–∫–æ–≤–∫–∞ —Å -lrt

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.cpp | $(OBJ_DIR)
	$(CXX) $(CXXFLAGS) -c $< -o $@

$(OBJ_DIR):
	mkdir -p $(OBJ_DIR)

clean:
	rm -rf $(OBJ_DIR) $(TARGET) /dev/shm/*sem* /dev/shm/fact_shmem

.PHONY: all clean
```

***

## <a id="lab2">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ2 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Linux</a>

–í –æ–ø–∏—Å–∞–Ω–∏–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π –±—ã–ª–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
> * (‚Äú–Ω–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å‚Äù) Debian/Ubuntu –ø—Ä–∏ –ø–æ–º–æ—â–∏ debootstrap;
> * (‚Äú—Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å‚Äù) —Å—Ç–∞–≤–∏–º Arch Linux (my favorite distribution) —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º!) ;
> * (‚Äú–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å‚Äù) Gentoo/Funtoo;
> * (‚Äú–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å‚Äù) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ —Å–µ—Ç—å IPv6 Tunnel brocker;
> * (‚Äú—É—Ä–æ–≤–µ–Ω—å 'guru'‚Äù) LHS;
> * (‚Äú—É—Ä–æ–≤–µ–Ω—å 'dao'‚Äù) Arch –∑–∞–≥—Ä—É–∑–∫–æ–π –ø–æ —Å–µ—Ç–∏ DHCP/TFTP/NFS, –º–æ–∂–Ω–æ –∏ –¥—Ä—É–≥–∏–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–Ø —Ä–µ—à–∏–ª –≤—ã–±—Ä–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Arch Linux. –ï—Å–ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å —à–∞–≥–∞–º –ø–æ [wiki](https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux "Install Arch Linux from existing Linux"), —Ç–æ —ç—Ç–∞ –∑–∞–¥–∞—á–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ–π (—Ö–æ—Ç—è –º–µ—Å—Ç–∞–º–∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è –∏–∑-–∑–∞ —á–∞—Å—Ç—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º)

> [!NOTE]
>
> <ins>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å English –≤–µ—Ä—Å–∏—é!</ins>  
> –ù–∞ Ru –≤–µ—Ä—Å–∏–∏ —É –º–µ–Ω—è –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã –∏–∑-–∑–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.  
> –ï—Å–ª–∏ –∑–Ω–∞–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–ª–∏–∑–∫–æ–º—É –∫ *London is a capital of Great Britain*, —Ç–æ –∫–∞–∫ –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ –≤–∫–ª–∞–¥–∫–∏ ([Ru](https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)) –∏ [En](https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux) –≤–µ—Ä—Å–∏–∏) –≤ –¥–≤—É—Ö –æ–∫–Ω–∞—Ö –∏ —á–∏—Ç–∞—Ç—å –∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. üòâ

–ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —è –∑–∞–ø–∏—Å–∞–ª –∏ –∑–∞–≥—Ä—É–∑–∏–ª –ø–æ [—Å—Å—ã–ª–∫–µ](https://youtu.be/aL9FrlRUXXg?si=sz8vPl8NlZ196cB0)<img src="https://cdn-icons-png.flaticon.com/128/1384/1384060.png" height=15 />: 

[![–ª–∞–±2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Linux](https://img.youtube.com/vi/aL9FrlRUXXg/maxresdefault.jpg)](https://youtu.be/aL9FrlRUXXg?si=fkoe6XkvyaEYKdrE "youtube.com")

***

## <a id="lab3">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ3a. - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞ bash</a>

–≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è bash —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ –∑–∞–¥–∞–Ω–∏—é –∏–∑ [–º–µ—Ç–æ–¥–∏—á–∫–∏](https://github.com/eugeneai/bash-essentials-ru-handbok/blob/master/bash-ru.pdf "–£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –∫—É—Ä—Å —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ Bash") –≤–Ω—É—Ç—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –∏–∑ [–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π ‚Ññ2](#lab2).

> –°—Ç—É–¥–µ–Ω—Ç—É –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ—à–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:
> 1. –í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–¥–∞–Ω–∏—è, –∏—Å—Ö–æ–¥—è –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∏–ª–∏ –æ–ø—ã—Ç–∞,
> 2. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (–æ–±—â–∏–π –≤–∏–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞),
> 3. –í—ã–±—Ä–∞—Ç—å, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, —É—Ç–∏–ª–∏—Ç—ã, —Ä–µ—à–∞—é—â–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∏ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é;
> 4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π;
> 5. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (—Ñ–∞–π–ª–∞—Ö, –∫–∞—Ç–∞–ª–æ–≥–∞—Ö);
> 6. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç.

–Ø —Ä–µ—à–∏–ª –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–≤—ã–µ 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å 2–π –∏ 3–π –≤–∞—Ä–∏–∞–Ω—Ç.

–ü–æ–ª—å–∑—É—è—Å—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º –∏–∑ —Ç–æ–π –∂–µ [–º–µ—Ç–æ–¥–∏—á–∫–∏](https://github.com/eugeneai/bash-essentials-ru-handbok/blob/master/bash-ru.pdf "–£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –∫—É—Ä—Å —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ Bash") –∏ –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ *–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞*üòâ —è —Å–º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∏ –∑–∞–¥–∞—á–∏.

***

### <a id="lab3-1">1. –ó–∞–¥–∞–Ω–∏–µ ‚Ññ1

> 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –ø–∞–ø–∫–∏ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

***

#### –û–±—â–∏–π –≤–∏–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
1. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∫–∞–∫ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫ –∏ –±–µ–∑ –Ω–∏—Ö:
	* –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Ç–µ–∫—É—â–µ–π –¥–µ—Ä–∏–∫—Ç–æ—Ä–∏–∏ –∏ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.
	* –° –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º(–ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏) –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–Ω—è—Ç—å —Ç–µ –∂–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–æ –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
2. –ü—Ä–∞–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–µ—Ä–Ω–æ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
3. –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –ø–∞–ø–∫–∞ –ø–æ–¥ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π.
4. –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.
5. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤.
6. –ü–æ –∑–≤–∞–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏(–∫–æ–ª-–≤–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è).

***

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è:

[–ö–æ–¥](/lab3/backup_images.sh) –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –∑–∞–¥–∞–Ω–∏–µ:
```bash
#!/bin/bash

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1: –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: bash backup_images.sh [–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
if [ "$#" -eq 0 ]; then
    source_dir="."
elif [ "$#" -eq 1 ]; then
    source_dir="$1"
else
    echo "–û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤" >&2
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 [–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]" >&2
    exit 1
fi

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -d "$source_dir" ]; then
    echo "–û—à–∏–±–∫–∞: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è '$source_dir' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç" >&2
    exit 2
fi

# 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–∞–ø–∫–∏ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∞
backup_dir="image_backup_$(date +%Y%m%d_%H%M%S)"
mkdir -p "$backup_dir" || {
    echo "–û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É $backup_dir" >&2
    exit 3
}

# 4. –ü–æ–∏—Å–∫ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
formats=("*.jpg" "*.jpeg" "*.jp2" "*.png" "*.gif" "*.bmp" "*.webp")
echo "–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤: $(realpath "$source_dir")"

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π
base_dir=$(realpath "$source_dir")

find "$source_dir" -type f \( -name "${formats[0]}" \
    $(printf -- "-o -name %s " "${formats[@]:1}") \) \
    -exec sh -c '
        file="$1"
        rel_path=$(realpath --relative-to="$2" "$file")
        mkdir -p "$3/$(dirname "$rel_path")"
        cp "$file" "$3/$rel_path"
    ' sh {} "$base_dir" "$backup_dir" \;

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
count=$(find "$backup_dir" -type f | wc -l)
echo "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: $count"
echo "–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤: $(realpath "$backup_dir")"
```

–ó–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```shell
bash backup_images.sh [–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]
```

***

#### <a id="lab3-1-test">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–Ø –∑–∞—Ä–∞–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ```.jpg``` —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª –∏—Ö –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤ ```~/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è```.

–¢–∞–∫ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ [—Å–∫—Ä–∏–ø—Ç](/lab3/backup_images.sh) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –¥–µ—Ä–∏–∫—Ç–æ—Ä–∏—è—Ö —è —É–∫–∞–∑–∞–ª –∞—Ä–≥—É–º–µ–Ω—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:  

```shell
bash backup_images.sh /home/user/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

![output](/lab3/output-backup_images.sh.png)

–ö–∞–∫ –∏ –±—ã–ª–æ –∑–∞–¥—É–º–∞–Ω–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
* –ò—Å—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞:  
![original](/lab3/original-images.png)

* –ü–∞–ø–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:  
![backup](/lab3/backup-images.png)

***

### <a id="lab3-2">2. –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2 –∏ ‚Ññ3

> 2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã —Ñ–æ—Ä–º–∞—Ç–∞ .jpg –≤ —Ñ–æ—Ä–º–∞—Ç JPEG2000 –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã convert –ø–∞–∫–µ—Ç–∞ ImageMagick.
> 3. –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ .jpg –ø–æ–¥–ø–∏—Å–∏ –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞ –¥–∞—Ç—ã —Å—ä–µ–º–∫–∏, –¥–∞—Ç–∞ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –¥–∞—Ç—ã —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–ª–∏ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞; –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ–ª–∞–µ—Ç—Å—è —Ç–∞–∫–∂–µ –ø—Ä–æ–≥—Ä–∞–º–º–æ–π convert –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–∞ 2.

***

#### –û–±—â–∏–π –≤–∏–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

1. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∫–∞–∫ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫ –∏ –±–µ–∑ –Ω–∏—Ö:
	* –ï—Å–ª–∏ –±–µ–∑ —Ç–æ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
	```SOURCE_DIR``` ‚Äî –∏—Å—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–∞—è)  
	```OUTPUT_DIR``` ‚Äî –≤—ã—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞ (–∞–≤—Ç–æ–∏–º—è –ø–æ –¥–∞—Ç–µ)  
	* –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å ```[–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]``` –∏ ```[–≤—ã—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]```
2. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—É—é –ø–∞–ø–∫—É –ø–æ–¥ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.
3. –ë—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ ```.jpg``` –∏ ```.jpeg``` —Ñ–∞–π–ª–æ–≤ –≤ ```–∏—Å—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–µ``` –∏ –µ—ë –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:  
	1. –ü–æ–ª—É—á–∞–µ—Ç—Å—è –ø—É—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
	2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –∏–∑ EXIF(—Å–ª—É—á–∞–∏ —Å –æ—Ç—Å—É—Ç–≤–∏–µ–º –¥–∞—Ç—ã –±—ã–ª–∏ —É—á—Ç–µ–Ω—ã).
	3. –ù–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ ```JPEG2000```(```.jp2```).
	4. –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.
4. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–æ –≤—Å–µ–º–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

***

#### –£—Ç–∏–ª–∏—Ç—ã:

–ö–∞–∫ –∏ –≥–æ–≤–æ—Ä–∏–ª–æ—Å—å, –≤ –∫–æ–¥–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ ```convert``` –ø–∞–∫–µ—Ç–∞ ```ImageMagick```.

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –±—ã–ª–æ –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```shell
sudo -S pacman imagemagick
```

–ò —Ç–∞–∫ –∂–µ —Å–ª–µ–¥—É–µ—Ç –∏–∑—É—á–∏—Ç—å [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://imagemagick.org/ "imagemagick.org") –∫ –ø–∞–∫–µ—Ç—É.

***

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è:

[–ö–æ–¥](/lab3/convert_and_date.sh) –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –∑–∞–¥–∞–Ω–∏–µ:
```bash
#!/bin/bash

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π ImageMagick 
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: bash convert_and_date.sh [–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞] [–≤—ã—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
SOURCE_DIR="${1:-.}"
OUTPUT_DIR="${2:-processed_images_$(date +%Y%m%d)}"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∂–∞—Ç–∏—è (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å)
QUALITY=85                  # –ö–∞—á–µ—Å—Ç–≤–æ (1-100, –º–µ–Ω—å—à–µ = —Å–∏–ª—å–Ω–µ–µ —Å–∂–∞—Ç–∏–µ)
COMPRESSION_RATE=1.5        # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è (–≤—ã—à–µ = —Å–∏–ª—å–Ω–µ–µ —Å–∂–∞—Ç–∏–µ)

# –°–æ–∑–¥–∞–µ–º –≤—ã—Ö–æ–¥–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p "$OUTPUT_DIR" || {
    echo "–û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—É—é –ø–∞–ø–∫—É '$OUTPUT_DIR'" >&2
    exit 2
}

process_image() {
    input_file="$1"
    output_file="$2"
    
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ EXIF
    exif_date=$(identify -format "%[EXIF:DateTimeOriginal]" "$input_file" 2>/dev/null)
    
    if [ -n "$exif_date" ]; then
        clean_date=$(echo "$exif_date" | sed 's/:/-/g' | cut -d' ' -f1)
        datetime=$(date -d "$clean_date" +"%d.%m.%Y" 2>/dev/null || echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞")
    else
        file_date=$(stat -c %y "$input_file" | cut -d' ' -f1)
        datetime=$(date -d "$file_date" +"%d.%m.%Y" 2>/dev/null || echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞")
    fi
    
    echo "–û–±—Ä–∞–±–æ—Ç–∫–∞: $(basename "$input_file") ‚Üí –î–∞—Ç–∞: $datetime"
    
    convert "$input_file" \
        -gravity SouthEast \
        -pointsize 60 \
        -fill "rgb(255,255,255)" \
        -annotate +10+10 "$datetime" \
        -quality $QUALITY \
        -define jp2:rate=$COMPRESSION_RATE \
        "jp2:$output_file"
}

export -f process_image

find "$SOURCE_DIR" -type f \( -iname "*.jpg" -o -iname "*.jpeg" \) -print0 | while IFS= read -r -d $'\0' file; do
    rel_path=$(realpath --relative-to="$SOURCE_DIR" "$file")
    output_file="$OUTPUT_DIR/${rel_path%.*}.jp2"
    mkdir -p "$(dirname "$output_file")"
    process_image "$file" "$output_file"
done

# –§–∏–∫—Å–∏—Ä—É–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –î–û –≤—ã–≤–æ–¥–∞
FINAL_PATH=$(realpath "$OUTPUT_DIR" 2>/dev/null || echo "$OUTPUT_DIR")

echo "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤: $FINAL_PATH"
```

–ó–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```shell
bash convert_and_date.sh [–∏—Å—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞] [–≤—ã—Ö–æ–¥–Ω–∞—è_–ø–∞–ø–∫–∞]
```

–í —Ö–æ–¥–µ –∏–∑—É—á–µ–Ω–∏—è [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://imagemagick.org/ "imagemagick.org") –∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ [–∫–æ–¥–∞](/lab3/convert_and_date.sh),
–ø–æ–º–∏–º–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –¥–æ–±–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç—ã –∏–∑ EXIF, –∞ —Ç–∞–∫ –∂–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç ```JPEG2000```, —è:
* –†–∞–∑–æ–±—Ä–∞–ª—Å—è –∫–∞–∫ –≤—ã–±—Ä–∞—Ç—å –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ü–≤–µ—Ç(```-fill "rgb(255,255,255)"```) –∏ —Ä–∞–∑–º–µ—Ä(```-pointsize 60```);
* –°–º–æ–≥ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –¥–∞—Ç—ã ```%d.%m.%Y```;
* –î–æ–±–∞–≤–∏–ª –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∂–∞—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
	```bash
	QUALITY=85                  # –ö–∞—á–µ—Å—Ç–≤–æ (1-100, –º–µ–Ω—å—à–µ = —Å–∏–ª—å–Ω–µ–µ —Å–∂–∞—Ç–∏–µ)
	COMPRESSION_RATE=1.5        # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è (–≤—ã—à–µ = —Å–∏–ª—å–Ω–µ–µ —Å–∂–∞—Ç–∏–µ)
	```

***

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ—Ç –∂–µ –Ω–∞–±–æ—Ä —Ñ–∞–π–ª–æ–≤ —á—Ç–æ –∏ –≤ [–∑–∞–¥–∞–Ω–∏–∏ ‚Ññ1](#lab3-1-test):

```shell
bash convert_and_date.sh /home/user/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

![output](/lab3/output-convert_and_date.sh.png)

> [!NOTE]  
> –°—É–¥—è –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏–π ```WARNING``` –Ω–∞—á–∏–Ω–∞—è —Å 7-–æ–π –≤–µ—Ä—Å–∏–∏ ImageMagick –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã ```convert``` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ```magick```.  
> –í–ø—Ä–æ—á–µ–º –Ω–∞ —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã —ç—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è–ª–æ.

* –ò—Å—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞:  
![original](/lab3/original-images.png)

* –ü–∞–ø–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 
![processed](/lab3/processed-images.png)

–¢–∞–∫ –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç ```JPEG2000``` –Ω–µ –≤–µ–∑–¥–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å –∏—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–∞–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.
–†–µ—à–µ–Ω–∏–µ–º —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–ª –ø–∞–∫–µ—Ç [```nomacs```](https://aur.archlinux.org/packages/nomacs "aur.archlinux.org/packages/nomacs").

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—ã–ª–æ –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–∏–º, –ø–æ—ç—Ç–æ–º—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —è –∑–∞–≥—Ä—É–∑–∏–ª –¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å–µ:

<div align="center">
<table>
<tr>–ü—Ä–∏–º–µ—Ä</tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/ES-room.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/ES-room.jp2"/></td></tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/bg/mike_room_night.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/bg/mike_room_night.jp2"/></td></tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/bg/room_mc_night_light.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/bg/room_mc_night_light.jp2"/></td></tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/bg/school_roof_day_puddle.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/bg/school_roof_day_puddle.jp2"/></td></tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/bg/tokyo_street_night.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/bg/tokyo_street_night.jp2"/></td></tr>
<tr><td>–î–æ</td><td>–ü–æ—Å–ª–µ</td></tr><tr><td>
<img src="/lab3/images/bg/garden_sunset.jpg"/></td><td>
<img src="/lab3/processed_images_20250412/bg/garden_sunset.jp2"/></td></tr>
</table>
</div>

![jp2](/lab3/processed_images_20250412/ES-room.jp2)


***

## <a id="lab4">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ4 - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã</a>

In progress...

***